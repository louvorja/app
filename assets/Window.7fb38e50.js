import{p as B,k as $,l as R,u as x,q as L,s as v,j as h,x as V,_ as k,o as i,c as n,w as o,y as z,z as C,A as r,r as P,g as u,a as _,B as H,b as l,C as N,D as O,E as b,G as d,H as w,t as y,I as T,J as j,K as p,n as S,L as D}from"./index.67b1b5c7.js";const A=B({inset:Boolean,...$({transition:"bottom-sheet-transition"})},"VBottomSheet"),E=R()({name:"VBottomSheet",props:A(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const c=x(e,"modelValue");return L(()=>{const f=v.filterProps(e);return h(v,V(f,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:c.value,"onUpdate:modelValue":a=>c.value=a,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),t)}),{}}}),I={name:"CustomizationBarComponent"};function W(e,s,t,c,f,a){return i(),n(E,null,{activator:o(({props:g})=>[h(z,V({class:"ms-2",icon:"mdi-palette",variant:"text",size:"small"},g),null,16)]),default:o(()=>[h(C,null,{default:o(()=>[r(e.$slots,"default")]),_:3})]),_:3})}const U=k(I,[["render",W]]),q={name:"WindowComponent",props:{modelValue:{type:Boolean,default:!1},scrollPos:Number,title:String,subtitle:String,icon:String,image:String,compact:Boolean,compact_footer:Boolean,closable:Boolean,minimizable:Boolean,titleClass:String,dark:Boolean,index:[Boolean,Number,String],size:String,imageSize:Number,color:String,slotLeftClass:String,slotRightClass:String,slotLeftStyle:[String,Object],slotRightStyle:[String,Object]},components:{LCustomizationBar:U},data:()=>({container_height:0}),computed:{visible:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},compact_screen:function(){return this.$vuetify.display.width<=600},compact_height:function(){return this.$vuetify.display.height<=600},w_width(){return this.compact_screen?"100%":this.size=="small"?"500px":this.size=="large"?"95%":"90%"},w_height(){return this.compact_screen||this.compact_height?"100%":this.size=="small"?"550px":"90%"}},watch:{visible(){this.listenerResize(this.visible)},index(){this.checkScroll(),this.windowResize()},scrollPos(e){const s=this.$refs.main_container;s&&s.scrollTo({top:e,behavior:"smooth"})}},methods:{close(){this.$emit("close")},minimize(){this.$emit("minimize")},scroll(){let e={};e.scroll_top=this.$refs.main_container.scrollTop,e.client_height=this.$refs.main_container.clientHeight,e.scroll_height=this.$refs.main_container.scrollHeight,e.scroll_bottom=e.scroll_height-e.scroll_top-e.client_height,this.$emit("scroll",e)},checkScroll(){if(this.$refs.main_container){const e=this.$refs.main_container,s=e.scrollHeight>e.clientHeight;this.$emit("hasScroll",s)}else this.$emit("hasScroll",!1)},windowResize(){var t,c;let e=(c=(t=this.$refs)==null?void 0:t.container)==null?void 0:c.$el;if(!e)return;let s={container_width:e.clientWidth,container_height:e.clientHeight};this.container_height=e.clientHeight,this.$emit("resize",s)},listenerResize(e){if(e&&this.visible)if(this.$refs.container)this.resizeObserver.observe(this.$refs.container.$el),window.addEventListener("resize",this.windowResize),this.windowResize();else{const s=this;setTimeout(function(){s.listenerResize(e),s.checkScroll()},10)}else this.resizeObserver.disconnect(),window.removeEventListener("resize",this.windowResize)}},mounted(){this.resizeObserver=new ResizeObserver(()=>{this.checkScroll()}),this.visible&&this.listenerResize(this.visible)}},F={class:"d-flex flex-no-wrap align-stretch flex-row justify-space-between"},G={key:0,class:"d-flex align-center",style:{"margin-left":"20px"}},J={class:"flex-grow-1 d-flex flex-column justify-center text-truncate"},K={class:"d-flex flex-row flex-nowrap align-start"};function M(e,s,t,c,f,a){const g=P("l-customization-bar");return i(),n(v,{modelValue:a.visible,"onUpdate:modelValue":s[3]||(s[3]=m=>a.visible=m),scrollable:"",persistent:"",width:a.w_width,height:a.w_height,theme:t.dark?"dark":""},{default:o(()=>[h(C,{color:t.color?t.color:""},{default:o(()=>[r(e.$slots,"toolbar",{},()=>[u("div",F,[t.icon?(i(),_("div",G,[h(H,{icon:t.icon},null,8,["icon"])])):l("",!0),t.image&&e.$vuetify.display.width>500?(i(),n(N,{key:1,class:"ma-1",size:t.imageSize?t.imageSize:65,rounded:"0"},{default:o(()=>[h(O,{src:t.image},null,8,["src"])]),_:1},8,["size"])):l("",!0),u("div",J,[t.title?(i(),n(b,{key:0,class:d(["py-0 my-0",t.titleClass?t.titleClass:"text-h5 font-weight-light"])},{default:o(()=>[w(y(t.title),1)]),_:1},8,["class"])):l("",!0),t.subtitle?(i(),n(T,{key:1,class:"pb-1"},{default:o(()=>[w(y(t.subtitle),1)]),_:1})):l("",!0)]),u("div",K,[r(e.$slots,"system_buttons"),e.$slots.customize?(i(),n(g,{key:0},{default:o(()=>[r(e.$slots,"customize")]),_:3})):l("",!0),e.$slots.customize||e.$slots.system_buttons?(i(),n(j,{key:1,vertical:"",class:"ms-2"})):l("",!0),t.minimizable?(i(),n(z,{key:2,class:"ms-2",icon:"mdi-minus",variant:"text",size:"small",onClick:s[0]||(s[0]=m=>a.minimize())})):l("",!0),t.closable?(i(),n(z,{key:3,class:"ms-2",icon:"mdi-close",variant:"text",size:"small",onClick:s[1]||(s[1]=m=>a.close())})):l("",!0)])])]),e.$slots.header?(i(),n(b,{key:0},{default:o(()=>[r(e.$slots,"header")]),_:3})):l("",!0),h(p,{ref:"container",class:"d-flex align-stretch overflow-hidden pa-0 ma-0"},{default:o(()=>[e.$slots.left?(i(),_("div",{key:0,style:S(`height:${e.container_height}px;${t.slotLeftStyle};`),class:d(t.slotLeftClass)},[r(e.$slots,"left")],6)):l("",!0),u("div",{ref:"main_container",class:d(["flex-grow-1 overflow-auto",{"pa-5":!t.compact,"pa-0":t.compact,"ma-0":t.compact}]),onScroll:s[2]||(s[2]=(...m)=>a.scroll&&a.scroll(...m))},[r(e.$slots,"default")],34),e.$slots.right?(i(),_("div",{key:1,style:S(`height:${e.container_height}px;${t.slotRightStyle};`),class:d(t.slotRightClass)},[r(e.$slots,"right")],6)):l("",!0)]),_:3},512),e.$slots.footer?(i(),n(D,{key:1,class:d({"pa-0":t.compact_footer,"ma-0":t.compact_footer})},{default:o(()=>[r(e.$slots,"footer")]),_:3},8,["class"])):l("",!0)]),_:3},8,["color"])]),_:3},8,["modelValue","width","height","theme"])}const X=k(q,[["render",M]]);export{X as L};

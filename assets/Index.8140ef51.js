import{_ as v,o as r,c as h,a as m,j as d,w as n,H as f,t as i,y as S,F as y,e as g,aB as M,bH as $,r as b,g as s,G as V,J as z,b as p,av as x}from"./index.67b1b5c7.js";import{L as H}from"./Window.7fb38e50.js";import{L as N,a as T}from"./Search.082c1b7e.js";import{V as G}from"./VSwitch.da648637.js";import{V as P,b as j}from"./VSlideGroupItem.6ddc7c92.js";import{L as D}from"./VTable.b803120d.js";import{V as F}from"./VAlert.178086c5.js";import"./VTextField.e3fba086.js";import"./VInput.17b4cf3b.js";import"./VSelectionControl.3a58b8be.js";const I={name:"CheckBoxComponent",props:{modelValue:Boolean,label:String,disabled:Boolean,switch:Boolean},computed:{input:{get(){return this.modelValue},set(l){this.$emit("update:modelValue",l)}},is_switch(){return this.switch}}};function E(l,t,o,w,C,e){return e.is_switch?(r(),h(G,{key:0,modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=u=>e.input=u),color:l.$theme.primary(),disabled:o.disabled,label:o.label,density:"compact","hide-details":""},null,8,["modelValue","color","disabled","label"])):(r(),h(P,{key:1,modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=u=>e.input=u),color:l.$theme.primary(),disabled:o.disabled,label:o.label,density:"compact","hide-details":""},null,8,["modelValue","color","disabled","label"]))}const J=v(I,[["render",E]]),O={name:"LetterPaginationComponent",props:{modelValue:String},computed:{input:{get(){return this.letters.indexOf(this.modelValue)},set(l){var t;this.$emit("update:modelValue",(t=this.letters[l])!=null?t:"")}},letters(){return["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},methods:{reset(){this.input=-1}}},W={class:"w-100 d-flex align-center"};function K(l,t,o,w,C,e){return r(),m("div",W,[d(S,{color:"primary",onClick:t[0]||(t[0]=u=>e.reset()),variant:e.input<0?"flat":"tonal",density:"compact",class:"me-1"},{default:n(()=>[f(i(l.$t("components.letterpagination.all")),1)]),_:1},8,["variant"]),d(M,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=u=>e.input=u),"show-arrows":"","center-active":""},{default:n(()=>[(r(!0),m(y,null,g(e.letters,u=>(r(),h(j,{key:u},{default:n(({isSelected:_,toggle:k})=>[d(S,{icon:"",color:"primary",onClick:k,variant:_?"flat":"tonal",density:"compact",class:"me-1"},{default:n(()=>[f(i(u),1)]),_:2},1032,["onClick","variant"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])}const Q=v(O,[["render",K]]),R={name:"MusicModule",components:{LWindow:H,LTable:N,LSearch:T,LCheckbox:J,LMusicMenuTable:D,LLetterPaginate:Q},data:()=>({search:"",data:[],scroll:{},has_scroll:!1,letter:""}),computed:{module_id(){return $.id},module(){return this.$modules.get(this.module_id)},userdata(){return new Proxy({},{get:(l,t)=>this.$userdata.get(`modules.${this.module.id}.${t}`,null),set:(l,t,o)=>(this.$userdata.set(`modules.${this.module.id}.${t}`,o),!0)})},disabled(){return!this.search_name&&!this.search_lyric&&!this.search_album},classform(){return{group:"d-flex flex-wrap",group_item:"flex-shrink-1 flex-grow-1 d-flex flex-wrap justify-space-around"}},search_name:{get(){return this.$userdata.get(`modules.${this.module_id}.search.name`)},set(l){this.$userdata.set(`modules.${this.module_id}.search.name`,l)}},search_lyric:{get(){return this.$userdata.get(`modules.${this.module_id}.search.lyric`)},set(l){this.$userdata.set(`modules.${this.module_id}.search.lyric`,l)}},search_album:{get(){return this.$userdata.get(`modules.${this.module_id}.search.album`)},set(l){this.$userdata.set(`modules.${this.module_id}.search.album`,l)}},filter_instrumental_music:{get(){return this.$userdata.get(`modules.${this.module_id}.filter.instrumental_music`)},set(l){this.$userdata.set(`modules.${this.module_id}.filter.instrumental_music`,l)}},compact:function(){return this.$vuetify.display.width<=800}},methods:{t(l){return this.$t(`modules.${this.module_id}.${l}`)},onScroll(l){this.scroll=l},hasScroll(l){this.has_scroll=l},openAlbum(l){this.$media.openAlbum(l)},close(){this.search=""}}},X={class:"text-left"},Y={key:0,class:"text-left"},Z={class:"text-right"},q={key:0,class:"pb-1"},ee={key:0},le={class:"text-right"},te={class:"d-flex justify-end"},ae={class:"w-100"},se={class:"text-right"};function re(l,t,o,w,C,e){const u=b("l-search"),_=b("l-checkbox"),k=b("l-music-menu-table"),L=b("l-table"),U=b("l-letter-paginate"),B=b("l-window");return r(),h(B,{modelValue:e.module.show,"onUpdate:modelValue":t[7]||(t[7]=a=>e.module.show=a),title:e.t("title"),icon:e.module.icon,closable:"",minimizable:"",compact:"",onClose:t[8]||(t[8]=a=>{e.close(),l.$modules.close(e.module_id)}),onMinimize:t[9]||(t[9]=a=>l.$modules.minimize(e.module_id)),onScroll:e.onScroll,onHasScroll:e.hasScroll,index:l.data.count},{header:n(()=>[s("div",{class:V(e.classform.group)},[s("div",{class:V(e.classform.group_item),style:{"flex-basis":"600px"}},[d(u,{modelValue:l.search,"onUpdate:modelValue":t[0]||(t[0]=a=>l.search=a),label:e.t("inputs.search"),error:l.data.filter_count<=0,disabled:e.disabled,"disabled-hint":e.t("inputs.search_disabled")},null,8,["modelValue","label","error","disabled","disabled-hint"])],2),s("div",{class:V(e.classform.group_item),style:{"flex-basis":"250px"}},[d(_,{modelValue:e.search_name,"onUpdate:modelValue":t[1]||(t[1]=a=>e.search_name=a),label:e.t("inputs.filter_name")},null,8,["modelValue","label"]),d(_,{modelValue:e.search_lyric,"onUpdate:modelValue":t[2]||(t[2]=a=>e.search_lyric=a),label:e.t("inputs.filter_lyric")},null,8,["modelValue","label"]),d(_,{modelValue:e.search_album,"onUpdate:modelValue":t[3]||(t[3]=a=>e.search_album=a),label:e.t("inputs.filter_album")},null,8,["modelValue","label"])],2),d(z,{vertical:""}),s("div",{class:V(e.classform.group_item),style:{"flex-basis":"200px"}},[s("div",null,[d(_,{switch:"",modelValue:e.filter_instrumental_music,"onUpdate:modelValue":t[4]||(t[4]=a=>e.filter_instrumental_music=a),label:e.t("inputs.filter_instrumental")},null,8,["modelValue","label"])])],2)],2)]),footer:n(()=>[s("div",ae,[d(U,{modelValue:l.letter,"onUpdate:modelValue":t[6]||(t[6]=a=>l.letter=a)},null,8,["modelValue"]),s("div",se,[s("small",null,i(e.t("data.records"))+": "+i(l.data.filter_count),1)])])]),default:n(()=>[d(L,{modelValue:l.data,"onUpdate:modelValue":t[5]||(t[5]=a=>l.data=a),search:l.search,letter:l.letter,searchable_fields:{name:e.search_name,lyric:e.search_lyric,albums_names:e.search_album},filter:{has_instrumental_music:e.filter_instrumental_music},scroll:l.scroll,has_scroll:l.has_scroll,sort_by:"name",file:`${l.$i18n.locale}_musics`},{default:n(()=>[s("thead",null,[s("tr",null,[s("th",X,i(e.t("table.music_name")),1),e.compact?p("",!0):(r(),m("th",Y,i(e.t("table.album_name")),1)),s("th",Z,i(e.t("table.duration")),1),t[10]||(t[10]=s("th",null,null,-1))])]),s("tbody",null,[(r(!0),m(y,null,g(l.data.data,a=>(r(),m("tr",{key:a.id_music},[s("td",null,[f(i(a.name)+" ",1),e.compact?(r(),m("div",q,[(r(!0),m(y,null,g(a.albums,c=>(r(),h(x,{key:c.id_album,color:l.$theme.primary(),size:"x-small",onClick:A=>e.openAlbum(c.id_album)},{default:n(()=>[f(i(c.name),1)]),_:2},1032,["color","onClick"]))),128))])):p("",!0)]),e.compact?p("",!0):(r(),m("td",ee,[(r(!0),m(y,null,g(a.albums,c=>(r(),h(x,{key:c.id_album,color:l.$theme.primary(),density:"compact",onClick:A=>e.openAlbum(c.id_album)},{default:n(()=>[f(i(c.name),1)]),_:2},1032,["color","onClick"]))),128))])),s("td",le,i(l.$datetime.shortTime(a.duration)),1),s("td",null,[s("div",te,[d(k,{id_music:a.id_music,has_instrumental_music:a.has_instrumental_music},null,8,["id_music","has_instrumental_music"])])])]))),128))])]),_:1},8,["modelValue","search","letter","searchable_fields","filter","scroll","has_scroll","file"]),l.search&&l.data.filter_count<=0?(r(),h(F,{key:0,type:"error",text:e.t("data.not_found"),variant:"tonal",border:"start",class:"ma-2"},null,8,["text"])):p("",!0)]),_:1},8,["modelValue","title","icon","onScroll","onHasScroll","index"])}const fe=v(R,[["render",re]]);export{fe as default};
